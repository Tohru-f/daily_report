## 取り組んだ課題一覧
- Reactの公式チュートリアルをやる
## わかったこと
### 一連のstateの更新をキューに入れる
- イベントハンドラ内のすべてのコードが実行されるまで、Reactはstateの更新処理を待機する。
- setNumber(number +1)はイベントハンドラ内部の処理が全て終わった後に実行されてからstateの更新処理をするが、setNumber(n => n + 1)の場合、Reactはこの関数をキューに入れてイベントハンドラ内の他のコードが全て実行された後に最後に実行される。更新用関数(updater function)と呼ぶ。
- setState(5)とした場合、setState(n => 5)と同じように動作する。
- 更新用関数はレンダー中に処理されるため、純関数である必要があり、結果だけを返す必要がある。変更があっては不具合の原因となる。
- 同じイベントハンドラ内で複数のセッタ関数を実行する際にそのままセッタ関数を実行するとイベント発生時の値に対して関数が実行されて期待した値は得られない。代わりに更新用関数を使うことで最新の値に対して処理を実行することで期待した値を得られる。
- stateにオブジェクトが入っている場合、技術的にはオブジェクトの内容を書き換えることは可能で、ミューテーションと呼ぶ。ただし、書き換え可能であっても数値、文字列、真偽値と同様にイミュータブルであるかのように扱うべき。書き換えるのではなく、置き換えること。
- ・・・(スプレッド構文)は浅く、１レベルの深さでのみコピーを行う。高速だが、ネストされたプロパティを更新する場合はスプレッド構文を複数回使用する必要がある。
- ・・・(スプレッド構文)をオブジェクトに使うとkeyとvalueのセットを全て列挙できる。
- useStateとuseImmerは一つのコンポーネントで組み合わせて使用できる。Immerから渡されるdraftはProxyと呼ばれる特殊なタイプのオブジェクトで、それに対して何を行ったのかを記録する。これにより何度もミューテートできるようになる。
## 次やること
- Reactの公式チュートリアルをやる
## 感じたこと
- チャレンジ問題のお陰で考える機会ができて確認できる。
## 学習時間
- 3h 44min